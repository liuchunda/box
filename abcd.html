<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>
<script>
function weixinShare(type){
var appid = 'wxc87c106733e11828';
var img_url = "http://tg-image.b0.upaiyun.com/tgou2/img2/tgou_logo2.png";
var link = window.location.href;
var desc = '发送给好友的描述';
var title = '微信分享demo';
var shareFriend = function () {
WeixinJSBridge.invoke('sendAppMessage',{
"appid":appid,
"img_url":img_url,
"img_width":"640",
"img_height":"640",
"link":link,
"desc":desc,
"title":title
},function(res) {
console.log(res)
})
}
var shareTimeline = function () {
WeixinJSBridge.invoke('shareTimeline',{
"appid":appid,
"img_url":img_url,
"img_width":"640",
"img_height":"640",
"link":link,
"desc":desc,
"title":title
},function(res) {
console.log(res)
});
}
if(type == 'friend'){
return shareFriend;
}else if(type == 'timeline'){
return shareTimeline;
}
}

var shareFriend = weixinShare('friend');
var shareTimeline = weixinShare('timeline');
document.addEventListener('WeixinJSBridgeReady', function onBridgeReady() {
WeixinJSBridge.on('menu:share:appmessage', function(argv){
shareFriend();
});
WeixinJSBridge.on('menu:share:timeline', function(argv){
shareTimeline();
});
}, false);
</script>